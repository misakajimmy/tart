{"version":3,"sources":["components/tart-core.tsx"],"names":[],"mappings":"AAQA,wBAAgB,QAAQ,gBAkBvB","file":"../../src/components/tart-core.d.ts","sourcesContent":["import {Promise} from 'bluebird';\nimport React, {useEffect, useRef, useState} from 'react';\nimport {FrontendApplication} from '@tart/core/lib/browser/frontend-application';\nimport {ContainerLoader} from '@tart/core/lib/common';\nimport {CoreInit} from '@tart/core/lib/init';\n\nlet inited = false;\n\nexport function TartCore() {\n  const coreRef = useRef<HTMLDivElement>(undefined);\n  const [containerLoader] = useState<ContainerLoader>(new ContainerLoader());\n\n  useEffect(() => {\n    if (!inited) {\n      inited = true;\n      let modules = CoreInit.init();\n      containerLoader.loadsAsync(modules).then(() => {\n        return Promise.delay(3000);\n      }).then(() => {\n        containerLoader.getService<FrontendApplication>(FrontendApplication).start({host: coreRef.current});\n      });\n    }\n  });\n\n  return <div className={'tart-core'} ref={coreRef}>\n  </div>;\n}\n"]}