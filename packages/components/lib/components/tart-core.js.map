{"version":3,"sources":["components/tart-core.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAC,OAAO,EAAC,MAAM,UAAU,CAAC;AACjC,OAAO,KAAK,EAAE,EAAC,SAAS,EAAE,MAAM,EAAE,QAAQ,EAAC,MAAM,OAAO,CAAC;AACzD,OAAO,EAAC,mBAAmB,EAAC,MAAM,6CAA6C,CAAC;AAChF,OAAO,EAAC,eAAe,EAAC,MAAM,uBAAuB,CAAC;AACtD,OAAO,EAAC,QAAQ,EAAC,MAAM,qBAAqB,CAAC;AAE7C,IAAI,MAAM,GAAG,KAAK,CAAC;AAEnB,MAAM,UAAU,QAAQ;IACtB,MAAM,OAAO,GAAG,MAAM,CAAiB,SAAS,CAAC,CAAC;IAClD,MAAM,CAAC,eAAe,CAAC,GAAG,QAAQ,CAAkB,IAAI,eAAe,EAAE,CAAC,CAAC;IAE3E,SAAS,CAAC,GAAG,EAAE;QACb,IAAI,CAAC,MAAM,EAAE;YACX,MAAM,GAAG,IAAI,CAAC;YACd,IAAI,OAAO,GAAG,QAAQ,CAAC,IAAI,EAAE,CAAC;YAC9B,eAAe,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE;gBAC5C,OAAO,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YAC7B,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE;gBACX,eAAe,CAAC,UAAU,CAAsB,mBAAmB,CAAC,CAAC,KAAK,CAAC,EAAC,IAAI,EAAE,OAAO,CAAC,OAAO,EAAC,CAAC,CAAC;YACtG,CAAC,CAAC,CAAC;SACJ;IACH,CAAC,CAAC,CAAC;IAEH,OAAO,6BAAK,SAAS,EAAE,WAAW,EAAE,GAAG,EAAE,OAAO,GAC1C,CAAC;AACT,CAAC","file":"../../src/components/tart-core.js","sourcesContent":["import {Promise} from 'bluebird';\nimport React, {useEffect, useRef, useState} from 'react';\nimport {FrontendApplication} from '@tart/core/lib/browser/frontend-application';\nimport {ContainerLoader} from '@tart/core/lib/common';\nimport {CoreInit} from '@tart/core/lib/init';\n\nlet inited = false;\n\nexport function TartCore() {\n  const coreRef = useRef<HTMLDivElement>(undefined);\n  const [containerLoader] = useState<ContainerLoader>(new ContainerLoader());\n\n  useEffect(() => {\n    if (!inited) {\n      inited = true;\n      let modules = CoreInit.init();\n      containerLoader.loadsAsync(modules).then(() => {\n        return Promise.delay(3000);\n      }).then(() => {\n        containerLoader.getService<FrontendApplication>(FrontendApplication).start({host: coreRef.current});\n      });\n    }\n  });\n\n  return <div className={'tart-core'} ref={coreRef}>\n  </div>;\n}\n"]}