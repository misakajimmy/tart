{"version":3,"sources":["browser/frontend-application-config-provider.ts"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;kFAckF;AAClF,OAAO,EAAC,yBAAyB,EAAC,MAAM,qBAAqB,CAAC;AAC9D,OAAO,SAAS,MAAM,WAAW,CAAC;AAElC,MAAM,OAAO,iCAAiC;IAEpC,MAAM,CAAC,GAAG,GAAG,MAAM,CAAC,mCAAmC,CAAC,CAAC;IAEjE,MAAM,CAAC,GAAG;QACR,MAAM,MAAM,GAAG,iCAAiC,CAAC,KAAK,EAAE,CAAC;QACzD,IAAI,MAAM,KAAK,SAAS,EAAE;YACxB,iCAAiC,CAAC,GAAG,CAAC,yBAAyB,CAAC,OAAO,CAAC,CAAC;YACzE,OAAO,iCAAiC,CAAC,KAAK,EAAE,CAAC;YACjD,wGAAwG;SACzG;QACD,OAAO,MAAM,CAAC;IAChB,CAAC;IAED,MAAM,CAAC,GAAG,CAAC,MAAyC;QAClD,IAAI,iCAAiC,CAAC,KAAK,EAAE,KAAK,SAAS,EAAE;YAC3D,MAAM,IAAI,KAAK,CAAC,mCAAmC,CAAC,CAAC;SACtD;QACD,8DAA8D;QAC9D,MAAM,YAAY,GAAG,MAAa,CAAC;QACnC,MAAM,GAAG,GAAG,iCAAiC,CAAC,GAAG,CAAC;QAClD,YAAY,CAAC,GAAG,CAAC,GAAG,SAAS,CAAC,yBAAyB,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;IAC3E,CAAC;IAEO,MAAM,CAAC,KAAK;QAClB,8DAA8D;QAC9D,MAAM,YAAY,GAAG,MAAa,CAAC;QACnC,MAAM,GAAG,GAAG,iCAAiC,CAAC,GAAG,CAAC;QAClD,OAAO,YAAY,CAAC,GAAG,CAAC,CAAC;IAC3B,CAAC","file":"../../src/browser/frontend-application-config-provider.js","sourcesContent":["/********************************************************************************\n * Copyright (C) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nimport {FrontendApplicationConfig} from './application-props';\nimport deepmerge from 'deepmerge';\n\nexport class FrontendApplicationConfigProvider {\n\n  private static KEY = Symbol('FrontendApplicationConfigProvider');\n\n  static get(): FrontendApplicationConfig {\n    const config = FrontendApplicationConfigProvider.doGet();\n    if (config === undefined) {\n      FrontendApplicationConfigProvider.set(FrontendApplicationConfig.DEFAULT);\n      return FrontendApplicationConfigProvider.doGet();\n      // throw new Error('The configuration is not set. Did you call FrontendApplicationConfigProvider#set?');\n    }\n    return config;\n  }\n\n  static set(config: FrontendApplicationConfig.Partial): void {\n    if (FrontendApplicationConfigProvider.doGet() !== undefined) {\n      throw new Error('The configuration is already set.');\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const globalObject = window as any;\n    const key = FrontendApplicationConfigProvider.KEY;\n    globalObject[key] = deepmerge(FrontendApplicationConfig.DEFAULT, config);\n  }\n\n  private static doGet(): FrontendApplicationConfig | undefined {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const globalObject = window as any;\n    const key = FrontendApplicationConfigProvider.KEY;\n    return globalObject[key];\n  }\n\n}\n"]}