{"version":3,"sources":["browser/menu/browser-context-menu-renderer.ts"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;kFAckF;;;;;;;;;;AAElF,uDAAuD;AAEvD,OAAO,EAAC,MAAM,EAAE,UAAU,EAAC,MAAM,WAAW,CAAC;AAE7C,OAAO,EACL,iBAAiB,EACjB,mBAAmB,EACnB,oBAAoB,EAErB,MAAM,0BAA0B,CAAC;AAClC,OAAO,EAAC,sBAAsB,EAAC,MAAM,uBAAuB,CAAC;AAE7D,MAAM,OAAO,wBAAyB,SAAQ,iBAAiB;IAEzC;IADpB,YACoB,IAAU;QAE5B,KAAK,CAAC,IAAI,CAAC,CAAC;QAFM,SAAI,GAAJ,IAAI,CAAM;IAG9B,CAAC;CACF;AAGD,IAAa,0BAA0B,GAAvC,MAAa,0BAA2B,SAAQ,mBAAmB;IAEb;IAApD,YAAoD,WAAmC;QACrF,KAAK,EAAE,CAAC;QAD0C,gBAAW,GAAX,WAAW,CAAwB;IAEvF,CAAC;IAES,QAAQ,CAAC,EAAC,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAA2B;QAC3E,MAAM,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;QACvE,MAAM,EAAC,CAAC,EAAE,CAAC,EAAC,GAAG,oBAAoB,CAAC,MAAM,CAAC,CAAC;QAC5C,IAAI,MAAM,EAAE;YACV,WAAW,CAAC,YAAY,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC,MAAO,EAAE,CAAC,CAAC;SACnD;QACD,WAAW,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACvB,OAAO,IAAI,wBAAwB,CAAC,WAAW,CAAC,CAAC;IACnD,CAAC;CAEF,CAAA;AAhBY,0BAA0B;IADtC,UAAU,EAAE;IAGE,WAAA,MAAM,CAAC,sBAAsB,CAAC,CAAA;GAFhC,0BAA0B,CAgBtC;SAhBY,0BAA0B","file":"../../../src/browser/menu/browser-context-menu-renderer.js","sourcesContent":["/********************************************************************************\n * Copyright (C) 2017 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport {inject, injectable} from 'inversify';\nimport {Menu} from '../widgets';\nimport {\n  ContextMenuAccess,\n  ContextMenuRenderer,\n  coordinateFromAnchor,\n  RenderContextMenuOptions\n} from '../context-menu-renderer';\nimport {BrowserMainMenuFactory} from './browser-menu-plugin';\n\nexport class BrowserContextMenuAccess extends ContextMenuAccess {\n  constructor(\n      public readonly menu: Menu\n  ) {\n    super(menu);\n  }\n}\n\n@injectable()\nexport class BrowserContextMenuRenderer extends ContextMenuRenderer {\n\n  constructor(@inject(BrowserMainMenuFactory) private menuFactory: BrowserMainMenuFactory) {\n    super();\n  }\n\n  protected doRender({menuPath, anchor, args, onHide}: RenderContextMenuOptions): ContextMenuAccess {\n    const contextMenu = this.menuFactory.createContextMenu(menuPath, args);\n    const {x, y} = coordinateFromAnchor(anchor);\n    if (onHide) {\n      contextMenu.aboutToClose.connect(() => onHide!());\n    }\n    contextMenu.open(x, y);\n    return new BrowserContextMenuAccess(contextMenu);\n  }\n\n}\n"]}