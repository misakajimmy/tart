{"version":3,"sources":["browser/shell/tab-bar-decorator.ts"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;kFAckF;;;;;;;AAElF,OAAO,EAAC,QAAQ,EAAC,MAAM,QAAQ,CAAC;AAEhC,OAAO,EAAC,MAAM,EAAE,UAAU,EAAE,KAAK,EAAC,MAAM,WAAW,CAAC;AACpD,OAAO,EAAC,oBAAoB,EAAE,OAAO,EAAQ,MAAM,cAAc,CAAC;AAIlE,MAAM,CAAC,MAAM,eAAe,GAAG,MAAM,CAAC,iBAAiB,CAAC,CAAC;AAuBzD,IAAa,sBAAsB,GAAnC,MAAa,sBAAsB;IAEd,6BAA6B,GAAG,IAAI,OAAO,EAAQ,CAAC;IAE9D,sBAAsB,GAAG,IAAI,CAAC,6BAA6B,CAAC,KAAK,CAAC;IAC3E,wBAAwB,GAAG,QAAQ,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,6BAA6B,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,GAAG,CAAC,CAAC;IAEhF,aAAa,CAAwC;IAExE,UAAU;QACR,IAAI,CAAC,aAAa,CAAC,gBAAgB,EAAE,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,CAAC,SAAS,CAAC,sBAAsB,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC,CAAC;IAC1H,CAAC;IAED;;;;OAIG;IACH,cAAc,CAAC,KAAoB;QACjC,MAAM,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,gBAAgB,EAAE,CAAC;QACzD,IAAI,GAAG,GAA4B,EAAE,CAAC;QACtC,KAAK,MAAM,SAAS,IAAI,UAAU,EAAE;YAClC,MAAM,WAAW,GAAG,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YAC9C,GAAG,GAAG,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;SAC/B;QACD,OAAO,GAAG,CAAC;IACb,CAAC;CACF,CAAA;AApBC;IADC,MAAM,CAAC,oBAAoB,CAAC;IAAE,KAAK,CAAC,eAAe,CAAC;6DACmB;AAP7D,sBAAsB;IADlC,UAAU,EAAE;GACA,sBAAsB,CA2BlC;SA3BY,sBAAsB","file":"../../../src/browser/shell/tab-bar-decorator.js","sourcesContent":["/********************************************************************************\n * Copyright (C) 2019 Ericsson and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport {debounce} from 'lodash';\nimport {Title, Widget} from '@lumino/widgets';\nimport {inject, injectable, named} from 'inversify';\nimport {ContributionProvider, Emitter, Event} from '../../common';\nimport {WidgetDecoration} from '../widget-decoration';\nimport {FrontendApplicationContribution} from '../frontend-application';\n\nexport const TabBarDecorator = Symbol('TabBarDecorator');\n\nexport interface TabBarDecorator {\n\n  /**\n   * The unique identifier of the tab bar decorator.\n   */\n  readonly id: string;\n\n  /**\n   * Event that is fired when any of the available tab bar decorators has changes.\n   */\n  readonly onDidChangeDecorations: Event<void>;\n\n  /**\n   * Decorate title.\n   * @param {Title<Widget>} title the title\n   * @returns decoration data.\n   */\n  decorate(title: Title<Widget>): WidgetDecoration.Data[];\n}\n\n@injectable()\nexport class TabBarDecoratorService implements FrontendApplicationContribution {\n\n  protected readonly onDidChangeDecorationsEmitter = new Emitter<void>();\n\n  readonly onDidChangeDecorations = this.onDidChangeDecorationsEmitter.event;\n  fireDidChangeDecorations = debounce(() => this.onDidChangeDecorationsEmitter.fire(undefined), 150);\n  @inject(ContributionProvider) @named(TabBarDecorator)\n  protected readonly contributions: ContributionProvider<TabBarDecorator>;\n\n  initialize(): void {\n    this.contributions.getContributions().map(decorator => decorator.onDidChangeDecorations(this.fireDidChangeDecorations));\n  }\n\n  /**\n   * Assign tabs the decorators provided by all the contributions.\n   * @param {Title<Widget>} title the title\n   * @returns an array of its decoration data.\n   */\n  getDecorations(title: Title<Widget>): WidgetDecoration.Data[] {\n    const decorators = this.contributions.getContributions();\n    let all: WidgetDecoration.Data[] = [];\n    for (const decorator of decorators) {\n      const decorations = decorator.decorate(title);\n      all = all.concat(decorations);\n    }\n    return all;\n  }\n}\n"]}