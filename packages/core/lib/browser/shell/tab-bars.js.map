{"version":3,"sources":["browser/shell/tab-bars.ts"],"names":[],"mappings":"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","file":"../../../src/browser/shell/tab-bars.js","sourcesContent":["/**\n * A specialized tab bar for the main and bottom areas.\n */\nimport {TabBar, Title, Widget} from '@lumino/widgets';\nimport PerfectScrollbar from 'perfect-scrollbar';\nimport {Disposable, DisposableCollection} from '../../common';\nimport {Message} from '@lumino/messaging';\nimport {Signal, Slot} from '@lumino/signaling';\nimport {MenuPath} from '../../common/menu';\nimport {ContextMenuRenderer} from '../context-menu-renderer';\nimport {TabBarDecoratorService} from './tab-bar-decorator';\nimport {IconThemeService} from '../icon-theme-service';\nimport {ElementInlineStyle, h, VirtualDOM, VirtualElement} from '@lumino/virtualdom';\nimport {WidgetDecoration} from '../widget-decoration';\nimport {notEmpty} from '../../common/objects';\nimport {BOTTOM_AREA_ID, MAIN_AREA_ID, TartDockPanel} from './tart-dock-panel';\nimport {ArrayExt} from '@lumino/algorithm';\nimport {IDragEvent} from '@lumino/dragdrop';\nimport {ElementExt} from '@lumino/domutils';\n\n/** The class name added to hidden content nodes, which are required to render vertical side bars. */\nconst HIDDEN_CONTENT_CLASS = 'tart-TabBar-hidden-content';\n\nexport const TabBarRendererFactory = Symbol('TabBarRendererFactory');\n\n/**\n * Size information of DOM elements used for rendering tabs in side bars.\n */\nexport interface SizeData {\n  width: number;\n  height: number;\n}\n\n/**\n * Extension of the rendering data used for tabs in side bars of the application shell.\n */\nexport interface SideBarRenderData extends TabBar.IRenderData<Widget> {\n  labelSize?: SizeData;\n  iconSize?: SizeData;\n  paddingTop?: number;\n  paddingBottom?: number;\n}\n\n/**\n * A tab bar renderer that offers a context menu. In addition, this renderer is able to\n * set an explicit position and size on the icon and label of each tab in a side bar.\n * This is necessary because the elements of side bar tabs are rotated using the CSS\n * `transform` property, disrupting the browser's ability to arrange those elements\n * automatically.\n */\nexport class TabBarRenderer extends TabBar.Renderer {\n\n  /**\n   * The menu path used to render the context menu.\n   */\n  contextMenuPath?: MenuPath;\n\n  protected readonly toDispose = new DisposableCollection();\n\n  // TODO refactor shell, rendered should only receive props with event handlers\n  // events should be handled by clients, like ApplicationShell\n  protected readonly toDisposeOnTabBar = new DisposableCollection();\n  protected readonly decorations = new Map<Title<Widget>, WidgetDecoration.Data[]>();\n\n  // right now it is mess: (1) client logic belong to renderer, (2) cyclic dependencies between renderers and clients\n  constructor(\n      protected readonly contextMenuRenderer?: ContextMenuRenderer,\n      protected readonly decoratorService?: TabBarDecoratorService,\n      protected readonly iconThemeService?: IconThemeService\n  ) {\n    super();\n    if (this.decoratorService) {\n      this.toDispose.push(Disposable.create(() => this.resetDecorations()));\n      this.toDispose.push(this.decoratorService.onDidChangeDecorations(() => this.resetDecorations()));\n    }\n    if (this.iconThemeService) {\n      this.toDispose.push(this.iconThemeService.onDidChangeCurrent(() => {\n        if (this._tabBar) {\n          this._tabBar.update();\n        }\n      }));\n    }\n  }\n\n  protected _tabBar?: TabBar<Widget>;\n\n  get tabBar(): TabBar<Widget> | undefined {\n    return this._tabBar;\n  }\n\n  /**\n   * A reference to the tab bar is required in order to activate it when a context menu\n   * is requested.\n   */\n  set tabBar(tabBar: TabBar<Widget> | undefined) {\n    if (this.toDispose.disposed) {\n      throw new Error('disposed');\n    }\n    if (this._tabBar === tabBar) {\n      return;\n    }\n    this.toDisposeOnTabBar.dispose();\n    this.toDispose.push(this.toDisposeOnTabBar);\n    this._tabBar = tabBar;\n    if (tabBar) {\n      const listener: Slot<Widget, TabBar.ITabCloseRequestedArgs<Widget>> = (_, {title}) => this.resetDecorations(title);\n      tabBar.tabCloseRequested.connect(listener);\n      this.toDisposeOnTabBar.push(Disposable.create(() => tabBar.tabCloseRequested.disconnect(listener)));\n    }\n    this.resetDecorations();\n  }\n\n  dispose(): void {\n    this.toDispose.dispose();\n  }\n\n  /**\n   * Render tabs with the default DOM structure, but additionally register a context menu listener.\n   * @param {SideBarRenderData} data Data used to render the tab.\n   * @param {boolean} isInSidePanel An optional check which determines if the tab is in the side-panel.\n   * @returns {VirtualElement} The virtual element of the rendered tab.\n   */\n  renderTab(data: SideBarRenderData, isInSidePanel?: boolean): VirtualElement {\n    const title = data.title;\n    const id = this.createTabId(data.title);\n    const key = this.createTabKey(data);\n    const style = this.createTabStyle(data);\n    const className = this.createTabClass(data);\n    const dataset = this.createTabDataset(data);\n    return h.li(\n        {\n          key, className, id, title: title.caption, style, dataset,\n          oncontextmenu: this.handleContextMenuEvent,\n          ondblclick: this.handleDblClickEvent,\n          onauxclick: (e: MouseEvent) => {\n            // If user closes the tab using mouse wheel, nothing should be pasted to an active editor\n            e.preventDefault();\n          }\n        },\n        h.div(\n            {className: 'tart-tab-icon-label'},\n            this.renderIcon(data, isInSidePanel),\n            this.renderLabel(data, isInSidePanel),\n            this.renderBadge(data, isInSidePanel)\n        ),\n        this.renderCloseIcon(data)\n    );\n  }\n\n  createTabId(title: Title<Widget>): string {\n    return 'shell-tab-' + title.owner.id;\n  }\n\n  /**\n   * If size information is available for the label and icon, set an explicit height on the tab.\n   * The height value also considers padding, which should be derived from CSS settings.\n   */\n  createTabStyle(data: SideBarRenderData): ElementInlineStyle {\n    const zIndex = `${data.zIndex}`;\n    const labelSize = data.labelSize;\n    const iconSize = data.iconSize;\n    let height: string | undefined;\n    if (labelSize || iconSize) {\n      const labelHeight = labelSize ? (this.tabBar && this.tabBar.orientation === 'horizontal' ? labelSize.height : labelSize.width) : 0;\n      const iconHeight = iconSize ? iconSize.height : 0;\n      let paddingTop = data.paddingTop || 0;\n      if (labelHeight > 0 && iconHeight > 0) {\n        // Leave some extra space between icon and label\n        paddingTop = paddingTop * 1.5;\n      }\n      const paddingBottom = data.paddingBottom || 0;\n      height = `${labelHeight + iconHeight + paddingTop + paddingBottom}px`;\n    }\n    return {zIndex, height};\n  }\n\n  /**\n   * If size information is available for the label, set it as inline style.\n   * Tab padding and icon size are also considered in the `top` position.\n   * @param {SideBarRenderData} data Data used to render the tab.\n   * @param {boolean} isInSidePanel An optional check which determines if the tab is in the side-panel.\n   * @returns {VirtualElement} The virtual element of the rendered label.\n   */\n  renderLabel(data: SideBarRenderData, isInSidePanel?: boolean): VirtualElement {\n    const labelSize = data.labelSize;\n    const iconSize = data.iconSize;\n    let width: string | undefined;\n    let height: string | undefined;\n    let top: string | undefined;\n    if (labelSize) {\n      width = `${labelSize.width}px`;\n      height = `${labelSize.height}px`;\n    }\n    if (data.paddingTop || iconSize) {\n      const iconHeight = iconSize ? iconSize.height : 0;\n      let paddingTop = data.paddingTop || 0;\n      if (iconHeight > 0) {\n        // Leave some extra space between icon and label\n        paddingTop = paddingTop * 1.5;\n      }\n      top = `${paddingTop + iconHeight}px`;\n    }\n    const style: ElementInlineStyle = {width, height, top};\n    // No need to check for duplicate labels if the tab is rendered in the side panel (title is not displayed),\n    // or if there are less than two files in the tab bar.\n    if (isInSidePanel || (this.tabBar && this.tabBar.titles.length < 2)) {\n      return h.div({className: 'p-TabBar-tabLabel', style}, data.title.label);\n    }\n    const originalToDisplayedMap = this.findDuplicateLabels([...this.tabBar!.titles]);\n    const labelDetails: string | undefined = originalToDisplayedMap.get(data.title.caption);\n    if (labelDetails) {\n      return h.div({className: 'p-TabBar-tabLabelWrapper'},\n          h.div({className: 'p-TabBar-tabLabel', style}, data.title.label),\n          h.div({className: 'p-TabBar-tabLabelDetails', style}, labelDetails));\n    }\n    return h.div({className: 'p-TabBar-tabLabel', style}, data.title.label);\n  }\n\n  renderBadge(data: SideBarRenderData, isInSidePanel?: boolean): VirtualElement {\n    const totalBadge = this.getDecorationData(data.title, 'badge').reduce((sum, badge) => sum! + badge!, 0);\n    if (!totalBadge) {\n      return h.div({});\n    }\n    const limitedBadge = totalBadge >= 100 ? '99+' : totalBadge;\n    return isInSidePanel\n        ? h.div({className: 'tart-badge-decorator-sidebar'}, `${limitedBadge}`)\n        : h.div({className: 'tart-badge-decorator-horizontal'}, `${limitedBadge}`);\n  }\n\n  /**\n   * Find duplicate labels from the currently opened tabs in the tab bar.\n   * Return the appropriate partial paths that can distinguish the identical labels.\n   *\n   * E.g., a/p/index.ts => a/..., b/p/index.ts => b/...\n   *\n   * To prevent excessively long path displayed, show at maximum three levels from the end by default.\n   * @param {Title<Widget>[]} titles Array of titles in the current tab bar.\n   * @returns {Map<string, string>} A map from each tab's original path to its displayed partial path.\n   */\n  findDuplicateLabels(titles: Title<Widget>[]): Map<string, string> {\n    // Filter from all tabs to group them by the distinct label (file name).\n    // E.g., 'foo.js' => {0 (index) => 'a/b/foo.js', '2 => a/c/foo.js' },\n    //       'bar.js' => {1 => 'a/d/bar.js', ...}\n    const labelGroups = new Map<string, Map<number, string>>();\n    titles.forEach((title, index) => {\n      if (!labelGroups.has(title.label)) {\n        labelGroups.set(title.label, new Map<number, string>());\n      }\n      labelGroups.get(title.label)!.set(index, title.caption);\n    });\n\n    const originalToDisplayedMap = new Map<string, string>();\n    // Parse each group of editors with the same label.\n    labelGroups.forEach(labelGroup => {\n      // Filter to get groups that have duplicates.\n      if (labelGroup.size > 1) {\n        const paths: string[][] = [];\n        let maxPathLength = 0;\n        labelGroup.forEach((pathStr, index) => {\n          const steps = pathStr.split('/');\n          maxPathLength = Math.max(maxPathLength, steps.length);\n          paths[index] = (steps.slice(0, steps.length - 1));\n          // By default, show at maximum three levels from the end.\n          let defaultDisplayedPath = steps.slice(-4, -1).join('/');\n          if (steps.length > 4) {\n            defaultDisplayedPath = '.../' + defaultDisplayedPath;\n          }\n          originalToDisplayedMap.set(pathStr, defaultDisplayedPath);\n        });\n\n        // Iterate through the steps of the path from the left to find the step that can distinguish it.\n        // E.g., ['root', 'foo', 'c'], ['root', 'bar', 'd'] => 'foo', 'bar'\n        let i = 0;\n        while (i < maxPathLength - 1) {\n          // Store indexes of all paths that have the identical element in each step.\n          const stepOccurrences = new Map<string, number[]>();\n          // Compare the current step of all paths\n          paths.forEach((path, index) => {\n            const step = path[i];\n            if (path.length > 0) {\n              if (i > path.length - 1) {\n                paths[index] = [];\n              } else if (!stepOccurrences.has(step)) {\n                stepOccurrences.set(step, [index]);\n              } else {\n                stepOccurrences.get(step)!.push(index);\n              }\n            }\n          });\n          // Set the displayed path for each tab.\n          stepOccurrences.forEach((indexArr, displayedPath) => {\n            if (indexArr.length === 1) {\n              const originalPath = labelGroup.get(indexArr[0]);\n              if (originalPath) {\n                const originalElements = originalPath.split('/');\n                const displayedElements = displayedPath.split('/');\n                if (originalElements.slice(-2)[0] !== displayedElements.slice(-1)[0]) {\n                  displayedPath += '/...';\n                }\n                if (originalElements[0] !== displayedElements[0]) {\n                  displayedPath = '.../' + displayedPath;\n                }\n                originalToDisplayedMap.set(originalPath, displayedPath);\n                paths[indexArr[0]] = [];\n              }\n            }\n          });\n          i++;\n        }\n      }\n    });\n    return originalToDisplayedMap;\n  }\n\n  /**\n   * If size information is available for the icon, set it as inline style. Tab padding\n   * is also considered in the `top` position.\n   * @param {SideBarRenderData} data Data used to render the tab icon.\n   * @param {boolean} isInSidePanel An optional check which determines if the tab is in the side-panel.\n   */\n  renderIcon(data: SideBarRenderData, isInSidePanel?: boolean): VirtualElement {\n    if (!isInSidePanel && this.iconThemeService && this.iconThemeService.current === 'none') {\n      return h.div();\n    }\n    let top: string | undefined;\n    if (data.paddingTop) {\n      top = `${data.paddingTop || 0}px`;\n    }\n    const style: ElementInlineStyle = {top};\n    const baseClassName = this.createIconClass(data);\n\n    const overlayIcons: VirtualElement[] = [];\n    const decorationData = this.getDecorationData(data.title, 'iconOverlay');\n\n    // Check if the tab has decoration markers to be rendered on top.\n    if (decorationData.length > 0) {\n      const baseIcon: VirtualElement = h.div({className: baseClassName, style}, data.title.iconLabel);\n      const wrapperClassName: string = WidgetDecoration.Styles.ICON_WRAPPER_CLASS;\n      const decoratorSizeClassName: string = isInSidePanel ? WidgetDecoration.Styles.DECORATOR_SIDEBAR_SIZE_CLASS : WidgetDecoration.Styles.DECORATOR_SIZE_CLASS;\n\n      decorationData\n          .filter(notEmpty)\n          .map(overlay => [overlay.position, overlay] as [WidgetDecoration.IconOverlayPosition, WidgetDecoration.IconOverlay | WidgetDecoration.IconClassOverlay])\n          .forEach(([position, overlay]) => {\n            const iconAdditionalClasses: string[] = [decoratorSizeClassName, WidgetDecoration.IconOverlayPosition.getStyle(position, isInSidePanel)];\n            const overlayIconStyle = (color?: string) => {\n              if (color === undefined) {\n                return {};\n              }\n              return {color};\n            };\n            // Parse the optional background (if it exists) of the overlay icon.\n            if (overlay.background) {\n              const backgroundIconClassName = this.getIconClass(overlay.background.shape, iconAdditionalClasses);\n              overlayIcons.push(\n                  h.div({\n                    key: data.title.label + '-background',\n                    className: backgroundIconClassName,\n                    style: overlayIconStyle(overlay.background.color)\n                  })\n              );\n            }\n            // Parse the overlay icon.\n            const overlayIcon = (overlay as WidgetDecoration.IconOverlay).icon || (overlay as WidgetDecoration.IconClassOverlay).iconClass;\n            const overlayIconClassName = this.getIconClass(overlayIcon, iconAdditionalClasses);\n            overlayIcons.push(\n                h.span({\n                  key: data.title.label,\n                  className: overlayIconClassName,\n                  style: overlayIconStyle(overlay.color)\n                })\n            );\n          });\n      return h.div({className: wrapperClassName, style}, [baseIcon, ...overlayIcons]);\n    }\n    return h.div({className: baseClassName, style}, data.title.iconLabel);\n  }\n\n  protected resetDecorations(title?: Title<Widget>): void {\n    if (title) {\n      this.decorations.delete(title);\n    } else {\n      this.decorations.clear();\n    }\n    if (this.tabBar) {\n      this.tabBar.update();\n    }\n  }\n\n  /**\n   * Get all available decorations of a given tab.\n   * @param {string} title The widget title.\n   */\n  protected getDecorations(title: Title<Widget>): WidgetDecoration.Data[] {\n    if (this.tabBar && this.decoratorService) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const owner: { resetTabBarDecorations?: () => void; } & Widget = title.owner;\n      if (!owner.resetTabBarDecorations) {\n        owner.resetTabBarDecorations = () => this.decorations.delete(title);\n        title.owner.disposed.connect(owner.resetTabBarDecorations);\n      }\n\n      const decorations = this.decorations.get(title) || this.decoratorService.getDecorations(title);\n      this.decorations.set(title, decorations);\n      return decorations;\n    }\n    return [];\n  }\n\n  /**\n   * Get the decoration data given the tab URI and the decoration data type.\n   * @param {string} title The title.\n   * @param {K} key The type of the decoration data.\n   */\n  protected getDecorationData<K extends keyof WidgetDecoration.Data>(title: Title<Widget>, key: K): WidgetDecoration.Data[K][] {\n    return this.getDecorations(title).filter(data => data[key] !== undefined).map(data => data[key]);\n  }\n\n  protected handleContextMenuEvent = (event: MouseEvent) => {\n    if (this.contextMenuRenderer && this.contextMenuPath && event.currentTarget instanceof HTMLElement) {\n      event.stopPropagation();\n      event.preventDefault();\n      this.contextMenuRenderer.render(this.contextMenuPath, event);\n    }\n  };\n\n  protected handleDblClickEvent = (event: MouseEvent) => {\n    if (this.tabBar && event.currentTarget instanceof HTMLElement) {\n      const id = event.currentTarget.id;\n      // eslint-disable-next-line no-null/no-null\n      const title = this.tabBar.titles.find(t => this.createTabId(t) === id) || null;\n      const area = title && title.owner.parent;\n      if (area instanceof TartDockPanel && (area.id === BOTTOM_AREA_ID || area.id === MAIN_AREA_ID)) {\n        area.toggleMaximized();\n      }\n    }\n  };\n\n  /**\n   * Get the class of an icon.\n   * @param {string | string[]} iconName The name of the icon.\n   * @param {string[]} additionalClasses Additional classes of the icon.\n   */\n  private getIconClass(iconName: string | string[], additionalClasses: string[] = []): string {\n    const iconClass = (typeof iconName === 'string') ? ['a', 'fa', `fa-${iconName}`] : ['a'].concat(iconName);\n    return iconClass.concat(additionalClasses).join(' ');\n  }\n\n}\n\nexport class ScrollableTabBar extends TabBar<Widget> {\n\n  protected scrollBar?: PerfectScrollbar;\n  protected readonly toDispose = new DisposableCollection();\n  private scrollBarFactory: () => PerfectScrollbar;\n  private pendingReveal?: Promise<void>;\n\n  constructor(options?: TabBar.IOptions<Widget> & PerfectScrollbar.Options) {\n    super(options);\n    this.scrollBarFactory = () => new PerfectScrollbar(this.scrollbarHost, options);\n  }\n\n  protected get scrollbarHost(): HTMLElement {\n    return this.node;\n  }\n\n  dispose(): void {\n    if (this.isDisposed) {\n      return;\n    }\n    super.dispose();\n    this.toDispose.dispose();\n  }\n\n  /**\n   * Reveal the tab with the given index by moving the scroll bar if necessary.\n   */\n  revealTab(index: number): Promise<void> {\n    if (this.pendingReveal) {\n      // A reveal has already been scheduled\n      return this.pendingReveal;\n    }\n    const result = new Promise<void>((resolve, reject) => {\n      // The tab might not have been created yet, so wait until the next frame\n      window.requestAnimationFrame(() => {\n        const tab = this.contentNode.children[index] as HTMLElement;\n        if (tab && this.isVisible) {\n          const parent = this.scrollbarHost;\n          if (this.orientation === 'horizontal') {\n            const scroll = parent.scrollLeft;\n            const left = tab.offsetLeft;\n            if (scroll > left) {\n              parent.scrollLeft = left;\n            } else {\n              const right = left + tab.clientWidth - parent.clientWidth;\n              if (scroll < right && tab.clientWidth < parent.clientWidth) {\n                parent.scrollLeft = right;\n              }\n            }\n          } else {\n            const scroll = parent.scrollTop;\n            const top = tab.offsetTop;\n            if (scroll > top) {\n              parent.scrollTop = top;\n            } else {\n              const bottom = top + tab.clientHeight - parent.clientHeight;\n              if (scroll < bottom && tab.clientHeight < parent.clientHeight) {\n                parent.scrollTop = bottom;\n              }\n            }\n          }\n        }\n        if (this.pendingReveal === result) {\n          this.pendingReveal = undefined;\n        }\n        resolve();\n      });\n    });\n    this.pendingReveal = result;\n    return result;\n  }\n\n  protected onAfterAttach(msg: Message): void {\n    if (!this.scrollBar) {\n      this.scrollBar = this.scrollBarFactory();\n    }\n    super.onAfterAttach(msg);\n  }\n\n  protected onBeforeDetach(msg: Message): void {\n    super.onBeforeDetach(msg);\n    if (this.scrollBar) {\n      this.scrollBar.destroy();\n      this.scrollBar = undefined;\n    }\n  }\n\n  protected onUpdateRequest(msg: Message): void {\n    super.onUpdateRequest(msg);\n    if (this.scrollBar) {\n      this.scrollBar.update();\n    }\n  }\n\n  protected onResize(msg: Widget.ResizeMessage): void {\n    super.onResize(msg);\n    if (this.scrollBar) {\n      if (this.currentIndex >= 0) {\n        this.revealTab(this.currentIndex);\n      }\n      this.scrollBar.update();\n    }\n  }\n\n}\n\n/**\n * A specialized tab bar for side areas.\n */\nexport class SideTabBar extends ScrollableTabBar {\n\n  private static readonly DRAG_THRESHOLD = 5;\n\n  /**\n   * Emitted when a tab is added to the tab bar.\n   */\n  readonly tabAdded = new Signal<this, { title: Title<Widget> }>(this);\n  /**\n   * Side panels can be collapsed by clicking on the currently selected tab. This signal is\n   * emitted when the mouse is released on the selected tab without initiating a drag.\n   */\n  readonly collapseRequested = new Signal<this, Title<Widget>>(this);\n  toCancelViewContainerDND = new DisposableCollection();\n  private mouseData?: {\n    pressX: number,\n    pressY: number,\n    mouseDownTabIndex: number\n  };\n\n  constructor(options?: TabBar.IOptions<Widget> & PerfectScrollbar.Options) {\n    super(options);\n\n    // Create the hidden content node (see `hiddenContentNode` for explanation)\n    const hiddenContent = document.createElement('ul');\n    hiddenContent.className = HIDDEN_CONTENT_CLASS;\n    this.node.appendChild(hiddenContent);\n  }\n\n  /**\n   * Tab bars of the left and right side panel are arranged vertically by rotating their labels.\n   * Rotation is realized with the CSS `transform` property, which disrupts the browser's ability\n   * to arrange the involved elements automatically. Therefore the elements are arranged explicitly\n   * by the TabBarRenderer using inline `height` and `top` styles. However, the size of labels\n   * must still be computed by the browser, so the rendering is performed in two steps: first the\n   * tab bar is rendered horizontally inside a _hidden content node_, then it is rendered again\n   * vertically inside the proper content node. After the first step, size information is gathered\n   * from all labels so it can be applied during the second step.\n   */\n  get hiddenContentNode(): HTMLUListElement {\n    return this.node.getElementsByClassName(HIDDEN_CONTENT_CLASS)[0] as HTMLUListElement;\n  }\n\n  insertTab(index: number, value: Title<Widget> | Title.IOptions<Widget>): Title<Widget> {\n    const result = super.insertTab(index, value);\n    this.tabAdded.emit({title: result});\n    return result;\n  }\n\n  /**\n   * The following event processing is used to generate `collapseRequested` signals\n   * when the mouse goes up on the currently selected tab without too much movement\n   * between `mousedown` and `mouseup`. The movement threshold is the same that\n   * is used by the superclass to detect a drag event. The `allowDeselect` option\n   * of the TabBar constructor cannot be used here because it is triggered when the\n   * mouse goes down, and thus collides with dragging.\n   */\n  handleEvent(event: Event): void {\n    switch (event.type) {\n      case 'pointerdown':\n        this.onMouseDown(event as MouseEvent);\n        super.handleEvent(event);\n        break;\n      case 'pointerup':\n        super.handleEvent(event);\n        this.onMouseUp(event as MouseEvent);\n        break;\n      case 'pointermove':\n        this.onMouseMove(event as MouseEvent);\n        super.handleEvent(event);\n        break;\n      case 'p-dragenter':\n        this.onDragEnter(event as IDragEvent);\n        break;\n      case 'p-dragover':\n        this.onDragOver(event as IDragEvent);\n        break;\n      case 'p-dragleave':\n      case 'p-drop':\n        this.cancelViewContainerDND();\n        break;\n      default:\n        super.handleEvent(event);\n    }\n  }\n\n  protected onAfterAttach(msg: Message): void {\n    super.onAfterAttach(msg);\n    this.renderTabBar();\n    this.node.addEventListener('p-dragenter', this);\n    this.node.addEventListener('p-dragover', this);\n    this.node.addEventListener('p-dragleave', this);\n    document.addEventListener('p-drop', this);\n  }\n\n  protected onAfterDetach(msg: Message): void {\n    super.onAfterDetach(msg);\n    this.node.removeEventListener('p-dragenter', this);\n    this.node.removeEventListener('p-dragover', this);\n    this.node.removeEventListener('p-dragleave', this);\n    document.removeEventListener('p-drop', this);\n  }\n\n  protected onUpdateRequest(msg: Message): void {\n    this.renderTabBar();\n    if (this.scrollBar) {\n      this.scrollBar.update();\n    }\n  }\n\n  /**\n   * Render the tab bar in the _hidden content node_ (see `hiddenContentNode` for explanation),\n   * then gather size information for labels and render it again in the proper content node.\n   */\n  protected renderTabBar(): void {\n    if (this.isAttached) {\n      // Render into the invisible node\n      this.renderTabs(this.hiddenContentNode);\n      // Await a rendering frame\n      window.requestAnimationFrame(() => {\n        const hiddenContent = this.hiddenContentNode;\n        const n = hiddenContent.children.length;\n        const renderData = new Array<Partial<SideBarRenderData>>(n);\n        for (let i = 0; i < n; i++) {\n          const hiddenTab = hiddenContent.children[i];\n          // Extract tab padding from the computed style\n          const tabStyle = window.getComputedStyle(hiddenTab);\n          const rd: Partial<SideBarRenderData> = {\n            paddingTop: parseFloat(tabStyle.paddingTop!),\n            paddingBottom: parseFloat(tabStyle.paddingBottom!)\n          };\n          // Extract label size from the DOM\n          const labelElements = hiddenTab.getElementsByClassName('p-TabBar-tabLabel');\n          if (labelElements.length === 1) {\n            const label = labelElements[0];\n            rd.labelSize = {width: label.clientWidth, height: label.clientHeight};\n          }\n          // Extract icon size from the DOM\n          const iconElements = hiddenTab.getElementsByClassName('p-TabBar-tabIcon');\n          if (iconElements.length === 1) {\n            const icon = iconElements[0];\n            rd.iconSize = {width: icon.clientWidth, height: icon.clientHeight};\n          }\n          renderData[i] = rd;\n        }\n        // Render into the visible node\n        this.renderTabs(this.contentNode, renderData);\n      });\n    }\n  }\n\n  /**\n   * Render the tab bar using the given DOM element as host. The optional `renderData` is forwarded\n   * to the TabBarRenderer.\n   */\n  protected renderTabs(host: HTMLElement, renderData?: Partial<SideBarRenderData>[]): void {\n    const titles = this.titles;\n    const n = titles.length;\n    const renderer = this.renderer as TabBarRenderer;\n    const currentTitle = this.currentTitle;\n    const content = new Array<VirtualElement>(n);\n    for (let i = 0; i < n; i++) {\n      const title = titles[i];\n      const current = title === currentTitle;\n      const zIndex = current ? n : n - i - 1;\n      let rd: SideBarRenderData;\n      if (renderData && i < renderData.length) {\n        rd = {title, current, zIndex, ...renderData[i]};\n      } else {\n        rd = {title, current, zIndex};\n      }\n      content[i] = renderer.renderTab(rd, true);\n    }\n    VirtualDOM.render(content, host);\n  }\n\n  protected cancelViewContainerDND = () => {\n    this.toCancelViewContainerDND.dispose();\n  };\n\n  /**\n   * Handles `viewContainerPart` drag enter.\n   */\n  protected onDragEnter = (event: IDragEvent) => {\n    this.cancelViewContainerDND();\n    if (event.mimeData.getData('application/vnd.phosphor.view-container-factory')) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  };\n\n  /**\n   * Handle `viewContainerPart` drag over,\n   * Defines the appropriate `drpAction` and opens the tab on which the mouse stands on for more than 800 ms.\n   */\n  protected onDragOver = (event: IDragEvent) => {\n    const factory = event.mimeData.getData('application/vnd.phosphor.view-container-factory');\n    const widget = factory && factory();\n    if (!widget) {\n      event.dropAction = 'none';\n      return;\n    }\n    event.preventDefault();\n    event.stopPropagation();\n    if (!this.toCancelViewContainerDND.disposed) {\n      event.dropAction = event.proposedAction;\n      return;\n    }\n\n    const {target, clientX, clientY} = event;\n    if (target instanceof HTMLElement) {\n      if (widget.options.disableDraggingToOtherContainers || widget.viewContainer.disableDNDBetweenContainers) {\n        event.dropAction = 'none';\n        target.classList.add('tart-cursor-no-drop');\n        this.toCancelViewContainerDND.push(Disposable.create(() => {\n          target.classList.remove('tart-cursor-no-drop');\n        }));\n      } else {\n        event.dropAction = event.proposedAction;\n      }\n      const {top, bottom, left, right, height} = target.getBoundingClientRect();\n      const mouseOnTop = (clientY - top) < (height / 2);\n      const dropTargetClass = `drop-target-${mouseOnTop ? 'top' : 'bottom'}`;\n      const tabs = this.contentNode.children;\n      const targetTab = ArrayExt.findFirstValue(tabs, t => ElementExt.hitTest(t, clientX, clientY));\n      if (!targetTab) {\n        return;\n      }\n      targetTab.classList.add(dropTargetClass);\n      this.toCancelViewContainerDND.push(Disposable.create(() => {\n        if (targetTab) {\n          targetTab.classList.remove(dropTargetClass);\n        }\n      }));\n      const openTabTimer = setTimeout(() => {\n        const title = this.titles.find(t => (this.renderer as TabBarRenderer).createTabId(t) === targetTab.id);\n        if (title) {\n          const mouseStillOnTab = clientX >= left && clientX <= right && clientY >= top && clientY <= bottom;\n          if (mouseStillOnTab) {\n            this.currentTitle = title;\n          }\n        }\n      }, 800);\n      this.toCancelViewContainerDND.push(Disposable.create(() => {\n        clearTimeout(openTabTimer);\n      }));\n    }\n  };\n\n  private onMouseDown(event: MouseEvent): void {\n    // Check for left mouse button and current mouse status\n    if (event.button !== 0 || this.mouseData) {\n      return;\n    }\n\n    // Check whether the mouse went down on the current tab\n    const tabs = this.contentNode.children;\n    const index = ArrayExt.findFirstIndex(tabs, tab => ElementExt.hitTest(tab, event.clientX, event.clientY));\n    if (index < 0 || index !== this.currentIndex) {\n      return;\n    }\n\n    // Check whether the close button was clicked\n    const icon = tabs[index].querySelector(this.renderer.closeIconSelector);\n    if (icon && icon.contains(event.target as HTMLElement)) {\n      return;\n    }\n\n    this.mouseData = {\n      pressX: event.clientX,\n      pressY: event.clientY,\n      mouseDownTabIndex: index\n    };\n  }\n\n  private onMouseUp(event: MouseEvent): void {\n    // Check for left mouse button and current mouse status\n    if (event.button !== 0 || !this.mouseData) {\n      return;\n    }\n\n    // Check whether the mouse went up on the current tab\n    const mouseDownTabIndex = this.mouseData.mouseDownTabIndex;\n    this.mouseData = undefined;\n    const tabs = this.contentNode.children;\n    const index = ArrayExt.findFirstIndex(tabs, tab => ElementExt.hitTest(tab, event.clientX, event.clientY));\n    if (index < 0 || index !== mouseDownTabIndex) {\n      return;\n    }\n\n    // Collapse the side bar\n    this.collapseRequested.emit(this.titles[index]);\n  }\n\n  private onMouseMove(event: MouseEvent): void {\n    // Check for left mouse button and current mouse status\n    if (event.button !== 0 || !this.mouseData) {\n      return;\n    }\n\n    const data = this.mouseData;\n    const dx = Math.abs(event.clientX - data.pressX);\n    const dy = Math.abs(event.clientY - data.pressY);\n    const threshold = SideTabBar.DRAG_THRESHOLD;\n    if (dx >= threshold || dy >= threshold) {\n      this.mouseData = undefined;\n    }\n  }\n\n}\n\n\n/**\n * Specialized scrollable tab-bar which comes with toolbar support.\n * Instead of the following DOM structure.\n *\n * +-------------------------+\n * |[TAB_0][TAB_1][TAB_2][TAB|\n * +-------------Scrollable--+\n *\n * There is a dedicated HTML element for toolbar which does **not** contained in the scrollable element.\n *\n * +-------------------------+-----------------+\n * |[TAB_0][TAB_1][TAB_2][TAB|         Toolbar |\n * +-------------Scrollable--+-Non-Scrollable-+\n *\n */\n// export class ToolbarAwareTabBar extends ScrollableTabBar {\n//\n//     protected contentContainer: HTMLElement;\n//     protected toolbar: TabBarToolbar | undefined;\n//     protected breadcrumbsContainer: HTMLElement;\n//     // protected readonly breadcrumbsRenderer: BreadcrumbsRenderer;\n//     protected topRow: HTMLElement;\n//\n//     constructor(\n//         protected readonly tabBarToolbarRegistry: TabBarToolbarRegistry,\n//         protected readonly tabBarToolbarFactory: () => TabBarToolbar,\n//         protected readonly breadcrumbsRendererFactory: BreadcrumbsRendererFactory,\n//         protected readonly options?: TabBar.IOptions<Widget> & PerfectScrollbar.Options,\n//     ) {\n//         super(options);\n//         this.breadcrumbsRenderer = this.breadcrumbsRendererFactory();\n//         this.rewireDOM();\n//         this.toDispose.push(this.tabBarToolbarRegistry.onDidChange(() => this.update()));\n//         this.toDispose.push(this.breadcrumbsRenderer);\n//         this.toDispose.push(this.breadcrumbsRenderer.onDidChangeActiveState(active => {\n//             this.node.classList.toggle('tart-tabBar-multirow', active);\n//             if (this.parent) {\n//                 MessageLoop.sendMessage(this.parent, new Message('fit-request'));\n//             }\n//         }));\n//         this.node.classList.toggle('tart-tabBar-multirow', this.breadcrumbsRenderer.active);\n//         const handler = () => this.updateBreadcrumbs();\n//         this.currentChanged.connect(handler);\n//         this.toDispose.push(Disposable.create(() => this.currentChanged.disconnect(handler)));\n//     }\n//\n//     /**\n//      * Overrides the `contentNode` property getter in PhosphorJS' TabBar.\n//      */\n//     get contentNode(): HTMLUListElement {\n//         return this.tabBarContainer.getElementsByClassName(ToolbarAwareTabBar.Styles.TAB_BAR_CONTENT)[0] as HTMLUListElement;\n//     }\n//\n//     /**\n//      * Overrides the scrollable host from the parent class.\n//      */\n//     protected get scrollbarHost(): HTMLElement {\n//         return this.tabBarContainer;\n//     }\n//\n//     protected get tabBarContainer(): HTMLElement {\n//         return this.node.getElementsByClassName(ToolbarAwareTabBar.Styles.TAB_BAR_CONTENT_CONTAINER)[0] as HTMLElement;\n//     }\n//\n//     protected async updateBreadcrumbs(): Promise<void> {\n//         const current = this.currentTitle?.owner;\n//         const uri = NavigatableWidget.is(current) ? current.getResourceUri() : undefined;\n//         await this.breadcrumbsRenderer.refresh(uri);\n//     }\n//\n//     protected onAfterAttach(msg: Message): void {\n//         if (this.toolbar) {\n//             if (this.toolbar.isAttached) {\n//                 Widget.detach(this.toolbar);\n//             }\n//             Widget.attach(this.toolbar, this.topRow);\n//             if (this.breadcrumbsContainer) {\n//                 this.node.appendChild(this.breadcrumbsContainer);\n//             }\n//             this.breadcrumbsRenderer?.refresh();\n//         }\n//         super.onAfterAttach(msg);\n//     }\n//\n//     protected onBeforeDetach(msg: Message): void {\n//         if (this.toolbar && this.toolbar.isAttached) {\n//             Widget.detach(this.toolbar);\n//         }\n//         super.onBeforeDetach(msg);\n//     }\n//\n//     protected onUpdateRequest(msg: Message): void {\n//         super.onUpdateRequest(msg);\n//         this.updateToolbar();\n//     }\n//\n//     protected updateToolbar(): void {\n//         if (!this.toolbar) {\n//             return;\n//         }\n//         const widget = this.currentTitle?.owner ?? undefined;\n//         this.toolbar.updateTarget(widget);\n//     }\n//\n//     handleEvent(event: Event): void {\n//         if (this.toolbar && event instanceof MouseEvent && this.toolbar.shouldHandleMouseEvent(event)) {\n//             // if the mouse event is over the toolbar part don't handle it.\n//             return;\n//         }\n//         super.handleEvent(event);\n//     }\n//\n//     /**\n//      * Restructures the DOM defined in PhosphorJS.\n//      *\n//      * By default the tabs (`li`) are contained in the `this.contentNode` (`ul`) which is wrapped in a `div` (`this.node`).\n//      * Instead of this structure, we add a container for the `this.contentNode` and for the toolbar.\n//      * The scrollbar will only work for the `ul` part but it does not affect the toolbar, so it can be on the right hand-side.\n//      */\n//     protected rewireDOM(): void {\n//         const contentNode = this.node.getElementsByClassName(ToolbarAwareTabBar.Styles.TAB_BAR_CONTENT)[0];\n//         if (!contentNode) {\n//             throw new Error(\"'this.node' does not have the content as a direct child with class name 'p-TabBar-content'.\");\n//         }\n//         this.node.removeChild(contentNode);\n//         this.topRow = document.createElement('div');\n//         this.topRow.classList.add('tart-tabBar-tab-row');\n//         this.contentContainer = document.createElement('div');\n//         this.contentContainer.classList.add(ToolbarAwareTabBar.Styles.TAB_BAR_CONTENT_CONTAINER);\n//         this.contentContainer.appendChild(contentNode);\n//         this.topRow.appendChild(this.contentContainer);\n//         this.node.appendChild(this.topRow);\n//         this.toolbar = this.tabBarToolbarFactory();\n//         this.breadcrumbsContainer = document.createElement('div');\n//         this.breadcrumbsContainer.classList.add('tart-tabBar-breadcrumb-row');\n//         this.breadcrumbsContainer.appendChild(this.breadcrumbsRenderer.host);\n//         this.node.appendChild(this.breadcrumbsContainer);\n//     }\n// }\n\nexport namespace ToolbarAwareTabBar {\n\n  export namespace Styles {\n\n    export const TAB_BAR_CONTENT = 'p-TabBar-content';\n    export const TAB_BAR_CONTENT_CONTAINER = 'p-TabBar-content-container';\n\n  }\n\n}\n"]}