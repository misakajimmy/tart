{"version":3,"sources":["browser/frontend-application-bindings.ts"],"names":[],"mappings":"AACA,OAAO,EAAC,4BAA4B,EAAE,wBAAwB,EAAC,MAAM,uCAAuC,CAAC;AAC7G,OAAO,EAAC,kBAAkB,EAAC,MAAM,mCAAmC,CAAC;AACrE,OAAO,EAAC,eAAe,EAAC,MAAM,gCAAgC,CAAC;AAC/D,OAAO,EACL,wBAAwB,EACxB,uBAAuB,EACvB,aAAa,EACb,cAAc,EACd,qBAAqB,EACrB,gBAAgB,EAChB,gBAAgB,EACjB,MAAM,WAAW,CAAC;AACnB,OAAO,EAAC,0BAA0B,EAAE,iBAAiB,EAAE,qBAAqB,EAAC,MAAM,kCAAkC,CAAC;AAEtH,MAAM,UAAU,kBAAkB,CAAC,IAAqB;IACtD,IAAI,CAAC,aAAa,CAAC,CAAC,MAAM,EAAE,CAAC,gBAAgB,EAAE,CAAC;IAChD,IAAI,CAAC,qBAAqB,CAAC,CAAC,SAAS,CAAC,CAAC,EAAC,SAAS,EAAC,EAAE,EAAE,CAAC,GAAG,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,CAAC;IAC5F,OAAO,IAAI,CAAC,cAAc,CAAC,CAAC,MAAM,EAAE,CAAC,gBAAgB,EAAE,CAAC;AAC1D,CAAC;AAED,MAAM,UAAU,qBAAqB,CAAC,IAAqB;IACzD,8FAA8F;IAC9F,mGAAmG;IACnG,gGAAgG;IAChG,IAAI,CAAC,0BAA0B,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,KAAsB,EAAE,EAAE;QAC3E,IAAI,KAAK,KAAK,eAAe,CAAC,OAAO,EAAE;YACrC,OAAO,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;SACpD;QACD,OAAO,GAAG,CAAC,SAAS,CAAC,QAAQ,CAAC,kBAAkB,EAAE,KAAK,CAAC,CAAC;IAC3D,CAAC,CAAC,CAAC;IACH,IAAI,CAAC,qBAAqB,CAAC,CAAC,MAAM,EAAE,CAAC,gBAAgB,EAAE,CAAC;IACxD,IAAI,CAAC,iBAAiB,CAAC,CAAC,SAAS,CAAC,qBAAqB,CAAC,CAAC;IACzD,4BAA4B,CAAC,IAAI,CAAC,CAAC;AACrC,CAAC;AAED,MAAM,UAAU,oBAAoB,CAAC,IAAqB;IACxD,IAAI,CAAC,uBAAuB,CAAC,CAAC,MAAM,EAAE,CAAC,gBAAgB,EAAE,CAAC;IAC1D,IAAI,CAAC,gBAAgB,CAAC,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;IAC7G,wBAAwB,CAAC,IAAI,EAAE,gBAAgB,CAAC,CAAC;AACnD,CAAC","file":"../../src/browser/frontend-application-bindings.js","sourcesContent":["import {interfaces} from 'inversify';\nimport {bindPreferenceSchemaProvider, PreferenceSchemaProvider} from './preferences/preference-contribution';\nimport {PreferenceProvider} from './preferences/preference-provider';\nimport {PreferenceScope} from './preferences/preference-scope';\nimport {\n  bindContributionProvider,\n  DefaultResourceProvider,\n  MessageClient,\n  MessageService,\n  MessageServiceFactory,\n  ResourceProvider,\n  ResourceResolver\n} from '../common';\nimport {PreferenceProviderProvider, PreferenceService, PreferenceServiceImpl} from './preferences/preference-service';\n\nexport function bindMessageService(bind: interfaces.Bind): interfaces.BindingWhenOnSyntax<MessageService> {\n  bind(MessageClient).toSelf().inSingletonScope();\n  bind(MessageServiceFactory).toFactory(({container}) => () => container.get(MessageService));\n  return bind(MessageService).toSelf().inSingletonScope();\n}\n\nexport function bindPreferenceService(bind: interfaces.Bind): void {\n  // bind(PreferenceProvider).toSelf().inSingletonScope().whenTargetNamed(PreferenceScope.User);\n  // bind(PreferenceProvider).toSelf().inSingletonScope().whenTargetNamed(PreferenceScope.Workspace);\n  // bind(PreferenceProvider).toSelf().inSingletonScope().whenTargetNamed(PreferenceScope.Folder);\n  bind(PreferenceProviderProvider).toFactory(ctx => (scope: PreferenceScope) => {\n    if (scope === PreferenceScope.Default) {\n      return ctx.container.get(PreferenceSchemaProvider);\n    }\n    return ctx.container.getNamed(PreferenceProvider, scope);\n  });\n  bind(PreferenceServiceImpl).toSelf().inSingletonScope();\n  bind(PreferenceService).toService(PreferenceServiceImpl);\n  bindPreferenceSchemaProvider(bind);\n}\n\nexport function bindResourceProvider(bind: interfaces.Bind): void {\n  bind(DefaultResourceProvider).toSelf().inSingletonScope();\n  bind(ResourceProvider).toProvider(context => uri => context.container.get(DefaultResourceProvider).get(uri));\n  bindContributionProvider(bind, ResourceResolver);\n}\n"]}