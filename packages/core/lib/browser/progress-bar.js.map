{"version":3,"sources":["browser/progress-bar.ts"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;kFAckF;;;;;;;AAElF,OAAO,EAAC,UAAU,EAAE,oBAAoB,EAAC,MAAM,WAAW,CAAC;AAC3D,OAAO,EAAC,MAAM,EAAE,UAAU,EAAE,aAAa,EAAC,MAAM,WAAW,CAAC;AAC5D,OAAO,EAAC,kBAAkB,EAAC,MAAM,wBAAwB,CAAC;AAG1D,IAAa,WAAW,GAAxB,MAAa,WAAW;IAEH,OAAO,CAAqB;IAE5B,SAAS,GAAG,IAAI,oBAAoB,EAAE,CAAC;IAChD,WAAW,CAAiB;IAC5B,oBAAoB,CAAiB;IAE/C;QACE,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACjD,IAAI,CAAC,WAAW,CAAC,SAAS,GAAG,mBAAmB,CAAC;QACjD,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QACxC,IAAI,CAAC,oBAAoB,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC1D,IAAI,CAAC,oBAAoB,CAAC,SAAS,GAAG,6BAA6B,CAAC;QACpE,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IACrD,CAAC;IAED,OAAO;QACL,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;IAC3B,CAAC;IAGS,IAAI;QACZ,MAAM,EAAC,SAAS,EAAE,UAAU,EAAE,UAAU,EAAC,GAAG,IAAI,CAAC,OAAO,CAAC;QACzD,IAAI,UAAU,KAAK,SAAS,EAAE;YAC5B,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;SAC9C;aAAM;YACL,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;SAC7C;QACD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,oBAAoB,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;IAEnF,CAAC;IAES,UAAU,CAAC,KAAU;QAC7B,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE;YAC3B,OAAO;SACR;QACD,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IAC9B,CAAC;IAES,UAAU,CAAC,OAAgB;QACnC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC;IAC9D,CAAC;CAEF,CAAA;AA1CC;IADC,MAAM,CAAC,kBAAkB,CAAC;4CACoB;AAoB/C;IADC,aAAa,EAAE;uCAUf;AA/BU,WAAW;IADvB,UAAU,EAAE;GACA,WAAW,CA4CvB;SA5CY,WAAW","file":"../../src/browser/progress-bar.js","sourcesContent":["/********************************************************************************\n * Copyright (C) 2019 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport {Disposable, DisposableCollection} from '../common';\nimport {inject, injectable, postConstruct} from 'inversify';\nimport {ProgressBarOptions} from './progress-bar-factory';\n\n@injectable()\nexport class ProgressBar implements Disposable {\n  @inject(ProgressBarOptions)\n  protected readonly options: ProgressBarOptions;\n\n  protected readonly toDispose = new DisposableCollection();\n  protected progressBar: HTMLDivElement;\n  protected progressBarContainer: HTMLDivElement;\n\n  constructor() {\n    this.progressBar = document.createElement('div');\n    this.progressBar.className = 'tart-progress-bar';\n    this.progressBar.style.display = 'none';\n    this.progressBarContainer = document.createElement('div');\n    this.progressBarContainer.className = 'tart-progress-bar-container';\n    this.progressBarContainer.append(this.progressBar);\n  }\n\n  dispose(): void {\n    this.toDispose.dispose();\n  }\n\n  @postConstruct()\n  protected init(): void {\n    const {container, insertMode, locationId} = this.options;\n    if (insertMode === 'prepend') {\n      container.prepend(this.progressBarContainer);\n    } else {\n      container.append(this.progressBarContainer);\n    }\n    this.toDispose.push(Disposable.create(() => this.progressBarContainer.remove()));\n\n  }\n\n  protected onProgress(event: any): void {\n    if (this.toDispose.disposed) {\n      return;\n    }\n    this.setVisible(event.show);\n  }\n\n  protected setVisible(visible: boolean): void {\n    this.progressBar.style.display = visible ? 'block' : 'none';\n  }\n\n}\n"]}