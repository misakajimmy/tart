{"version":3,"sources":["browser/navigatable-type.ts"],"names":[],"mappings":"AACA,OAAO,EAAC,UAAU,EAAC,MAAM,WAAW,CAAC;AAmBrC,MAAM,KAAW,WAAW,CAI3B;AAJD,WAAiB,WAAW;IAC1B,SAAgB,EAAE,CAAC,GAAuB;QACxC,OAAO,CAAC,CAAC,GAAG,IAAI,gBAAgB,IAAI,iBAAiB,IAAI,GAAG,CAAC;IAC/D,CAAC;IAFe,cAAE,KAEjB,CAAA;AACH,CAAC,EAJgB,WAAW,KAAX,WAAW,QAI3B;AAGD,MAAM,KAAW,iBAAiB,CA0BjC;AA1BD,WAAiB,iBAAiB;IAChC,SAAgB,EAAE,CAAC,GAAuB;QACxC,OAAO,GAAG,YAAY,UAAU,IAAI,WAAW,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;IAC1D,CAAC;IAFe,oBAAE,KAEjB,CAAA;IAED,QAAe,CAAC,CAAC,WAAW,CACxB,OAAoB,EACpB,OAAwB;QAE1B,MAAM,IAAI,GAAG,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;QAC1D,OAAO,GAAG,CAAC,OAAO,EAAE,WAAW,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,eAAe,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;IACzF,CAAC;IANgB,6BAAW,cAM3B,CAAA;IAED,QAAe,CAAC,CAAC,GAAG,CAChB,OAAoB,EACpB,SAAwC,GAAG,EAAE,CAAC,IAAI;QAEpD,KAAK,MAAM,MAAM,IAAI,OAAO,EAAE;YAC5B,IAAI,iBAAiB,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE;gBAChC,MAAM,WAAW,GAAG,MAAM,CAAC,cAAc,EAAE,CAAC;gBAC5C,IAAI,WAAW,IAAI,MAAM,CAAC,WAAW,CAAC,EAAE;oBACtC,MAAM,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;iBAC7B;aACF;SACF;IACH,CAAC;IAZgB,qBAAG,MAYnB,CAAA;AACH,CAAC,EA1BgB,iBAAiB,KAAjB,iBAAiB,QA0BjC;AAQD,MAAM,KAAW,wBAAwB,CAKxC;AALD,WAAiB,wBAAwB;IACvC,SAAgB,EAAE,CAAC,GAAuB;QACxC,8DAA8D;QAC9D,OAAO,CAAC,CAAC,GAAG,IAAI,MAAM,IAAI,GAAG,IAAK,GAAW,CAAC,IAAI,KAAK,aAAa,CAAC;IACvE,CAAC;IAHe,2BAAE,KAGjB,CAAA;AACH,CAAC,EALgB,wBAAwB,KAAxB,wBAAwB,QAKxC","file":"../../src/browser/navigatable-type.js","sourcesContent":["import URI from '../common/uri';\nimport {BaseWidget} from './widgets';\nimport {MaybeArray} from '../common';\nimport {Widget} from '@lumino/widgets';\n\n/**\n * `Navigatable` provides an access to an URI of an underlying instance of `Resource`.\n */\nexport interface Navigatable {\n  /**\n   * Return an underlying resource URI.\n   */\n  getResourceUri(): URI | undefined;\n\n  /**\n   * Creates a new URI to which this navigatable should moved based on the given target resource URI.\n   */\n  createMoveToUri(resourceUri: URI): URI | undefined;\n}\n\nexport namespace Navigatable {\n  export function is(arg: Object | undefined): arg is Navigatable {\n    return !!arg && 'getResourceUri' && 'createMoveToUri' in arg;\n  }\n}\n\nexport type NavigatableWidget = BaseWidget & Navigatable;\nexport namespace NavigatableWidget {\n  export function is(arg: Object | undefined): arg is NavigatableWidget {\n    return arg instanceof BaseWidget && Navigatable.is(arg);\n  }\n\n  export function* getAffected<T extends Widget>(\n      widgets: Iterable<T>,\n      context: MaybeArray<URI>\n  ): IterableIterator<[URI, T & NavigatableWidget]> {\n    const uris = Array.isArray(context) ? context : [context];\n    return get(widgets, resourceUri => uris.some(uri => uri.isEqualOrParent(resourceUri)));\n  }\n\n  export function* get<T extends Widget>(\n      widgets: Iterable<T>,\n      filter: (resourceUri: URI) => boolean = () => true\n  ): IterableIterator<[URI, T & NavigatableWidget]> {\n    for (const widget of widgets) {\n      if (NavigatableWidget.is(widget)) {\n        const resourceUri = widget.getResourceUri();\n        if (resourceUri && filter(resourceUri)) {\n          yield [resourceUri, widget];\n        }\n      }\n    }\n  }\n}\n\nexport interface NavigatableWidgetOptions {\n  kind: 'navigatable',\n  uri: string,\n  counter?: number,\n}\n\nexport namespace NavigatableWidgetOptions {\n  export function is(arg: Object | undefined): arg is NavigatableWidgetOptions {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return !!arg && 'kind' in arg && (arg as any).kind === 'navigatable';\n  }\n}\n"]}