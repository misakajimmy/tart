{"version":3,"sources":["browser/nls-loader.ts"],"names":[],"mappings":"AAAA,OAAO,EAAC,GAAG,EAAC,MAAM,eAAe,CAAC;AAClC,OAAO,IAAI,MAAM,yEAAyE,CAAC;AAE3F,MAAM,CAAC,KAAK,UAAU,gBAAgB;IACpC,IAAI,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;IAClC,OAAO,IAAI,CAAC,UAAU,CAAC,CAAC;IACxB,GAAG,CAAC,YAAY,GAAG;QACjB,UAAU,EAAE,OAAO;QACnB,YAAY,EAAE,mBAAmB,CAAC,IAAI,CAAC;KACxC,CAAC;AACJ,CAAC;AAGD,SAAS,mBAAmB,CAAC,YAAqB;IAChD,IAAI,OAAO,YAAY,KAAK,QAAQ,IAAI,YAAY,EAAE;QACpD,MAAM,MAAM,GAA2B,EAAE,CAAC;QAC1C,KAAK,MAAM,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE;YACvD,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;gBAC7B,MAAM,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;aACrB;iBAAM,IAAI,KAAK,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;gBAC7C,MAAM,SAAS,GAAG,mBAAmB,CAAC,KAAK,CAAC,CAAC;gBAC7C,KAAK,MAAM,CAAC,OAAO,EAAE,SAAS,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE;oBAC5D,aAAa;oBACb,MAAM,CAAC,GAAG,GAAG,IAAI,OAAO,EAAE,CAAC,GAAG,SAAS,CAAC;iBACzC;aACF;SACF;QACD,OAAO,MAAM,CAAC;KACf;SAAM;QACL,OAAO,EAAE,CAAC;KACX;AACH,CAAC","file":"../../src/browser/nls-loader.js","sourcesContent":["import {nls} from '../common/nls';\nimport zhcn from '../assets/i18n/vscode-language-pack-zh-hans/translations/main.i18n.json';\n\nexport async function loadTranslations(): Promise<void> {\n  zhcn['vscode'] = zhcn['contents'];\n  delete zhcn['contents'];\n  nls.localization = {\n    languageId: 'zh-cn',\n    translations: flattenTranslations(zhcn),\n  };\n}\n\n\nfunction flattenTranslations(localization: unknown): Record<string, string> {\n  if (typeof localization === 'object' && localization) {\n    const record: Record<string, string> = {};\n    for (const [key, value] of Object.entries(localization)) {\n      if (typeof value === 'string') {\n        record[key] = value;\n      } else if (value && typeof value === 'object') {\n        const flattened = flattenTranslations(value);\n        for (const [flatKey, flatValue] of Object.entries(flattened)) {\n          // @ts-ignore\n          record[`${key}/${flatKey}`] = flatValue;\n        }\n      }\n    }\n    return record;\n  } else {\n    return {};\n  }\n}\n"]}