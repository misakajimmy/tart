{"version":3,"sources":["common/event.ts"],"names":[],"mappings":"AAwBA,MAAM,KAAW,KAAK,CAwBrB;AAxBD,WAAiB,KAAK;IACpB,MAAM,WAAW,GAAG;QAClB,OAAO;QACP,CAAC;KACF,CAAC;IACW,UAAI,GAAe,MAAM,CAAC,MAAM,CAAC;QAC5C,OAAO,WAAW,CAAC;IACrB,CAAC,EAAE;QACD,IAAI,YAAY;YACd,OAAO,CAAC,CAAC;QACX,CAAC;QACD,IAAI,YAAY,CAAC,YAAoB;QACrC,CAAC;KACF,CAAC,CAAC;IAEH;;;OAGG;IACH,SAAgB,GAAG,CAAO,KAAe,EAAE,OAAoB;QAC7D,OAAO,MAAM,CAAC,MAAM,CAAC,CAAC,QAAuB,EAAE,QAAc,EAAE,WAA0B,EAAE,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,SAAS,EAAE,WAAW,CAAC,EAAE;YACrK,YAAY,EAAE,CAAC;SAChB,CAAC,CAAC;IACL,CAAC;IAJe,SAAG,MAIlB,CAAA;AACH,CAAC,EAxBgB,KAAK,KAAL,KAAK,QAwBrB","file":"../../src/common/event.js","sourcesContent":["import {Disposable} from './disposable';\r\n\r\n/**\r\n * Represents a typed event.\r\n */\r\nexport interface Event<T> {\r\n\r\n  /**\r\n   * An emitter will print a warning if more listeners are added for this event.\r\n   * The event.maxListeners allows the limit to be modified for this specific event.\r\n   * The value can be set to 0 to indicate an unlimited number of listener.\r\n   */\r\n  maxListeners: number\r\n\r\n  /**\r\n   *\r\n   * @param listener The listener function will be call when the event happens.\r\n   * @param thisArgs The 'this' which will be used when calling the event listener.\r\n   * @param disposables An array to which a {{IDisposable}} will be added.\r\n   * @return a disposable to remove the listener again.\r\n   */\r\n  (listener: (e: T) => any, thisArgs?: any, disposables?: Disposable[]): Disposable;\r\n}\r\n\r\nexport namespace Event {\r\n  const _disposable = {\r\n    dispose(): void {\r\n    }\r\n  };\r\n  export const None: Event<any> = Object.assign(function (): { dispose(): void } {\r\n    return _disposable;\r\n  }, {\r\n    get maxListeners(): number {\r\n      return 0;\r\n    },\r\n    set maxListeners(maxListeners: number) {\r\n    }\r\n  });\r\n\r\n  /**\r\n   * Given an event and a `map` function, returns another event which maps each element\r\n   * through the mapping function.\r\n   */\r\n  export function map<I, O>(event: Event<I>, mapFunc: (i: I) => O): Event<O> {\r\n    return Object.assign((listener: (e: O) => any, thisArgs?: any, disposables?: Disposable[]) => event(i => listener.call(thisArgs, mapFunc(i)), undefined, disposables), {\r\n      maxListeners: 0,\r\n    });\r\n  }\r\n}\r\n"]}