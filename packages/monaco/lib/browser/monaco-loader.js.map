{"version":3,"sources":["browser/monaco-loader.ts"],"names":[],"mappings":"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","file":"../../src/browser/monaco-loader.js","sourcesContent":["export function loadMonaco(vsRequire: any): Promise<void> {\r\n  return new Promise<void>(resolve => {\r\n    vsRequire(['vs/editor/editor.main'], () => {\r\n      vsRequire([\r\n        'vs/platform/commands/common/commands',\r\n        'vs/platform/actions/common/actions',\r\n        'vs/platform/keybinding/common/keybindingsRegistry',\r\n        'vs/platform/keybinding/common/keybindingResolver',\r\n        'vs/platform/keybinding/common/usLayoutResolvedKeybinding',\r\n        'vs/base/common/keybindingLabels',\r\n        'vs/base/common/keyCodes',\r\n        'vs/base/common/mime',\r\n        'vs/editor/browser/editorExtensions',\r\n        'vs/editor/standalone/browser/simpleServices',\r\n        'vs/editor/standalone/browser/standaloneServices',\r\n        'vs/editor/standalone/browser/standaloneLanguages',\r\n        'vs/editor/standalone/browser/quickAccess/standaloneGotoLineQuickAccess',\r\n        'vs/editor/standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess',\r\n        'vs/base/parts/quickinput/browser/quickInput',\r\n        'vs/platform/quickinput/browser/quickInput',\r\n        'vs/platform/quickinput/common/quickAccess',\r\n        'vs/platform/quickinput/browser/quickAccess',\r\n        'vs/platform/quickinput/browser/pickerQuickAccess',\r\n        'vs/base/browser/ui/list/listWidget',\r\n        'vs/platform/registry/common/platform',\r\n        'vs/base/common/filters',\r\n        'vs/platform/theme/common/themeService',\r\n        'vs/platform/theme/common/styler',\r\n        'vs/platform/theme/common/colorRegistry',\r\n        'vs/base/common/color',\r\n        'vs/base/common/platform',\r\n        'vs/editor/common/modes',\r\n        'vs/editor/contrib/suggest/suggest',\r\n        'vs/editor/contrib/snippet/snippetParser',\r\n        'vs/editor/contrib/format/format',\r\n        'vs/platform/configuration/common/configuration',\r\n        'vs/platform/configuration/common/configurationModels',\r\n        'vs/editor/common/services/resolverService',\r\n        'vs/editor/browser/services/codeEditorService',\r\n        'vs/editor/browser/services/codeEditorServiceImpl',\r\n        'vs/editor/browser/services/openerService',\r\n        'vs/platform/markers/common/markerService',\r\n        'vs/platform/contextkey/common/contextkey',\r\n        'vs/platform/contextkey/browser/contextKeyService',\r\n        'vs/editor/common/model/wordHelper',\r\n        'vs/base/common/errors',\r\n        'vs/base/common/path',\r\n        'vs/editor/common/model/textModel',\r\n        'vs/base/common/strings',\r\n        'vs/base/common/async'\r\n      ], (commands: any, actions: any,\r\n          keybindingsRegistry: any, keybindingResolver: any, resolvedKeybinding: any, keybindingLabels: any,\r\n          keyCodes: any, mime: any, editorExtensions: any, simpleServices: any,\r\n          standaloneServices: any, standaloneLanguages: any, standaloneGotoLineQuickAccess: any, standaloneGotoSymbolQuickAccess: any, quickInput: any,\r\n          quickInputPlatform: any, quickAccess: any, quickAccessBrowser: any, pickerQuickAccess: any, listWidget: any, // helpQuickAccess: any, commandsQuickAccess: any,\r\n          platformRegistry: any,\r\n          filters: any, themeService: any, styler: any, colorRegistry: any, color: any,\r\n          platform: any, modes: any, suggest: any, snippetParser: any,\r\n          format: any,\r\n          configuration: any, configurationModels: any,\r\n          resolverService: any,\r\n          codeEditorService: any, codeEditorServiceImpl: any, openerService: any,\r\n          markerService: any,\r\n          contextKey: any, contextKeyService: any,\r\n          wordHelper: any,\r\n          error: any, path: any,\r\n          textModel: any, strings: any, async: any) => {\r\n        const global: any = self;\r\n        global.monaco.commands = commands;\r\n        global.monaco.actions = actions;\r\n        global.monaco.keybindings = Object.assign({}, keybindingsRegistry, keybindingResolver, resolvedKeybinding, keybindingLabels, keyCodes);\r\n        global.monaco.services = Object.assign({}, simpleServices, standaloneServices,\r\n            standaloneLanguages, configuration, configurationModels,\r\n            resolverService, codeEditorService, codeEditorServiceImpl, markerService, openerService);\r\n        console.log(quickAccess);\r\n        global.monaco.quickInput = Object.assign({}, quickInput, quickAccess, quickAccessBrowser, quickInputPlatform,\r\n            pickerQuickAccess, standaloneGotoLineQuickAccess, standaloneGotoSymbolQuickAccess);\r\n        global.monaco.filters = filters;\r\n        global.monaco.theme = Object.assign({}, themeService, styler);\r\n        global.monaco.color = Object.assign({}, colorRegistry, color);\r\n        global.monaco.platform = Object.assign({}, platform, platformRegistry);\r\n        global.monaco.editorExtensions = editorExtensions;\r\n        global.monaco.modes = modes;\r\n        global.monaco.suggest = suggest;\r\n        global.monaco.snippetParser = snippetParser;\r\n        global.monaco.format = format;\r\n        global.monaco.contextkey = contextKey;\r\n        global.monaco.contextKeyService = contextKeyService;\r\n        global.monaco.mime = mime;\r\n        global.monaco.wordHelper = wordHelper;\r\n        global.monaco.error = error;\r\n        global.monaco.path = path;\r\n        global.monaco.textModel = textModel;\r\n        global.monaco.strings = strings;\r\n        global.monaco.async = async;\r\n        global.monaco.list = listWidget;\r\n        resolve();\r\n      });\r\n    });\r\n  });\r\n}\r\n\r\nexport function clearMonacoQuickAccessProviders(): void {\r\n  const registry = monaco.platform.Registry.as<monaco.quickInput.IQuickAccessRegistry>('workbench.contributions.quickaccess');\r\n\r\n  // Clear Monaco QuickAccessRegistry as it currently includes monaco internal providers and not Wm's providers\r\n  registry.clear();\r\n}\r\n\r\nexport function loadVsRequire(context: any): Promise<any> {\r\n  // Monaco uses a custom amd loader that over-rides node's require.\r\n  // Keep a reference to an original require so we can restore it after executing the amd loader file.\r\n  const originalRequire = context.require;\r\n  return new Promise(resolve => {\r\n    if (document.readyState === 'loading') {\r\n      window.addEventListener('load', attachVsLoader, {once: true});\r\n    } else {\r\n      attachVsLoader();\r\n    }\r\n\r\n    function attachVsLoader(): void {\r\n      const vsLoader = document.createElement('script');\r\n      vsLoader.type = 'text/javascript';\r\n      vsLoader.src = 'vs/loader.js';\r\n      vsLoader.charset = 'utf-8';\r\n      vsLoader.addEventListener('load', () => {\r\n        // Save Monaco's amd require and restore the original require\r\n        const amdRequire = context.require;\r\n        if (originalRequire) {\r\n          context.require = originalRequire;\r\n        }\r\n        resolve(amdRequire);\r\n      });\r\n      document.body.appendChild(vsLoader);\r\n    }\r\n  });\r\n}\r\n"]}