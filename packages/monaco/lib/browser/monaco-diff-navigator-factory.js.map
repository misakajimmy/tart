{"version":3,"sources":["browser/monaco-diff-navigator-factory.ts"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;kFAckF;;;;;;;AAElF,OAAO,EAAC,UAAU,EAAC,MAAM,WAAW,CAAC;AAMrC,IAAa,0BAA0B,GAAvC,MAAa,0BAA0B;IAanC,oBAAoB,CAAC,MAA6B,EAAE,OAA+B;QAC/E,MAAM,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,mBAAmB,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;QACrE,MAAM,iBAAiB,GAAG,CAAC,GAAY,EAAE,EAAE;YACvC,IAAI,SAAS,CAAC,OAAO,GAAG,CAAC,CAAC,EAAE;gBACxB,SAAS,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;aAC3B;QACL,CAAC,CAAC;QACF,OAAsB;YAClB,WAAW,EAAE,GAAG,EAAE,CAAC,SAAS,CAAC,WAAW,EAAE;YAC1C,OAAO,EAAE,GAAG,EAAE;gBACV,iBAAiB,CAAC,IAAI,CAAC,CAAC;gBACxB,OAAO,SAAS,CAAC,OAAO,GAAG,CAAC,GAAG,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC;YAC3D,CAAC;YACD,WAAW,EAAE,GAAG,EAAE;gBACd,iBAAiB,CAAC,KAAK,CAAC,CAAC;gBACzB,OAAO,SAAS,CAAC,OAAO,GAAG,CAAC,CAAC;YACjC,CAAC;YACD,IAAI,EAAE,GAAG,EAAE,CAAC,SAAS,CAAC,IAAI,EAAE;YAC5B,QAAQ,EAAE,GAAG,EAAE,CAAC,SAAS,CAAC,QAAQ,EAAE;YACpC,WAAW,EAAE,SAAS,CAAC,WAAW;SACrC,CAAC;IACN,CAAC;CACJ,CAAA;AAjCU,wCAAa,GAAkB;IAClC,WAAW,EAAE,GAAG,EAAE,CAAC,KAAK;IACxB,OAAO,EAAE,GAAG,EAAE,CAAC,KAAK;IACpB,WAAW,EAAE,GAAG,EAAE,CAAC,KAAK;IACxB,IAAI,EAAE,GAAG,EAAE;IACX,CAAC;IACD,QAAQ,EAAE,GAAG,EAAE;IACf,CAAC;IACD,WAAW,EAAE,KAAK;CACpB,CAAA;AAXO,0BAA0B;IADtC,UAAU,EAAE;GACA,0BAA0B,CAmCtC;SAnCY,0BAA0B","file":"../../src/browser/monaco-diff-navigator-factory.js","sourcesContent":["/********************************************************************************\r\n * Copyright (C) 2018 TypeFox and others.\r\n *\r\n * This program and the accompanying materials are made available under the\r\n * terms of the Eclipse Public License v. 2.0 which is available at\r\n * http://www.eclipse.org/legal/epl-2.0.\r\n *\r\n * This Source Code may also be made available under the following Secondary\r\n * Licenses when the conditions for such availability set forth in the Eclipse\r\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\r\n * with the GNU Classpath Exception which is available at\r\n * https://www.gnu.org/software/classpath/license.html.\r\n *\r\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\r\n ********************************************************************************/\r\n\r\nimport {injectable} from 'inversify';\r\nimport {DiffNavigator} from '@tart/editor';\r\nimport IStandaloneDiffEditor = monaco.editor.IStandaloneDiffEditor;\r\nimport IDiffNavigatorOptions = monaco.editor.IDiffNavigatorOptions;\r\n\r\n@injectable()\r\nexport class MonacoDiffNavigatorFactory {\r\n\r\n    static nullNavigator = <DiffNavigator>{\r\n        canNavigate: () => false,\r\n        hasNext: () => false,\r\n        hasPrevious: () => false,\r\n        next: () => {\r\n        },\r\n        previous: () => {\r\n        },\r\n        revealFirst: false,\r\n    };\r\n\r\n    createdDiffNavigator(editor: IStandaloneDiffEditor, options?: IDiffNavigatorOptions): DiffNavigator {\r\n        const navigator = monaco.editor.createDiffNavigator(editor, options);\r\n        const ensureInitialized = (fwd: boolean) => {\r\n            if (navigator.nextIdx < -1) {\r\n                navigator._initIdx(fwd);\r\n            }\r\n        };\r\n        return <DiffNavigator>{\r\n            canNavigate: () => navigator.canNavigate(),\r\n            hasNext: () => {\r\n                ensureInitialized(true);\r\n                return navigator.nextIdx + 1 < navigator.ranges.length;\r\n            },\r\n            hasPrevious: () => {\r\n                ensureInitialized(false);\r\n                return navigator.nextIdx > 0;\r\n            },\r\n            next: () => navigator.next(),\r\n            previous: () => navigator.previous(),\r\n            revealFirst: navigator.revealFirst,\r\n        };\r\n    }\r\n}\r\n"]}