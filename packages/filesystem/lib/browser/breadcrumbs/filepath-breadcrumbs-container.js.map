{"version":3,"sources":["browser/breadcrumbs/filepath-breadcrumbs-container.ts"],"names":[],"mappings":";;;;;;;;;AAAA,OAAO,EAAY,MAAM,EAAE,UAAU,EAAa,MAAM,WAAW,CAAC;AACpE,OAAO,EACH,mBAAmB,EACnB,gBAAgB,EAEhB,IAAI,EACJ,aAAa,EAEb,SAAS,EACZ,MAAM,wBAAwB,CAAC;AAChC,OAAO,EAAC,uBAAuB,EAAE,YAAY,EAAE,aAAa,EAAE,cAAc,EAAC,MAAM,cAAc,CAAC;AAElG,MAAM,0BAA0B,GAAG,iCAAiC,CAAC;AAErE,MAAM,UAAU,kCAAkC,CAAC,MAA4B;IAC3E,MAAM,KAAK,GAAG,uBAAuB,CAAC,MAAM,CAAC,CAAC;IAC9C,KAAK,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;IAC7B,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,eAAe,iCAAK,gBAAgB,KAAE,WAAW,EAAE,KAAK,IAAE,CAAC;IACnF,KAAK,CAAC,IAAI,CAAC,yBAAyB,CAAC,CAAC,MAAM,EAAE,CAAC;IAC/C,OAAO,KAAK,CAAC;AACjB,CAAC;AAED,MAAM,UAAU,+BAA+B,CAAC,MAA4B;IACxE,OAAO,kCAAkC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAC;AACrF,CAAC;AAGD,IAAa,yBAAyB,GAAtC,MAAa,yBAA0B,SAAQ,cAAc;IAKzD,YACgC,KAAgB,EACZ,KAAoB,EACvB,mBAAwC;QAErE,KAAK,CAAC,KAAK,EAAE,KAAK,EAAE,mBAAmB,CAAC,CAAC;QAJb,UAAK,GAAL,KAAK,CAAW;QACZ,UAAK,GAAL,KAAK,CAAe;QAIpD,IAAI,CAAC,QAAQ,CAAC,0BAA0B,CAAC,CAAC;IAC9C,CAAC;IAES,oBAAoB,CAAC,IAAc,EAAE,KAAgB;QAC3D,MAAM,YAAY,GAAG,KAAK,CAAC,oBAAoB,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;QAC7D,uCACO,YAAY,KACf,SAAS,EAAE,KAAK,IAClB;IACN,CAAC;IAES,gBAAgB,CAAC,IAA0B,EAAE,KAAoC;QACvF,IAAI,YAAY,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE;YACrD,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,GAAG,EAAE,EAAC,OAAO,EAAE,IAAI,EAAC,CAAC,CAAC;SACvD;aAAM;YACH,KAAK,CAAC,gBAAgB,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;SACvC;IACL,CAAC;CACJ,CAAA;AA1BG;IADC,MAAM,CAAC,aAAa,CAAC;gEAC0B;AAHvC,yBAAyB;IADrC,UAAU,EAAE;IAOJ,WAAA,MAAM,CAAC,SAAS,CAAC,CAAA;IACjB,WAAA,MAAM,CAAC,aAAa,CAAC,CAAA;IACrB,WAAA,MAAM,CAAC,mBAAmB,CAAC,CAAA;GARvB,yBAAyB,CA6BrC;SA7BY,yBAAyB","file":"../../../src/browser/breadcrumbs/filepath-breadcrumbs-container.js","sourcesContent":["import {Container, inject, injectable, interfaces} from 'inversify';\r\nimport {\r\n    ContextMenuRenderer,\r\n    defaultTreeProps,\r\n    NodeProps,\r\n    open,\r\n    OpenerService,\r\n    TreeNode,\r\n    TreeProps\r\n} from '@tart/core/lib/browser';\r\nimport {createFileTreeContainer, FileStatNode, FileTreeModel, FileTreeWidget} from '../file-tree';\r\n\r\nconst BREADCRUMBS_FILETREE_CLASS = 'tart-FilepathBreadcrumbFileTree';\r\n\r\nexport function createFileTreeBreadcrumbsContainer(parent: interfaces.Container): Container {\r\n    const child = createFileTreeContainer(parent);\r\n    child.unbind(FileTreeWidget);\r\n    child.rebind(TreeProps).toConstantValue({...defaultTreeProps, virtualized: false});\r\n    child.bind(BreadcrumbsFileTreeWidget).toSelf();\r\n    return child;\r\n}\r\n\r\nexport function createFileTreeBreadcrumbsWidget(parent: interfaces.Container): BreadcrumbsFileTreeWidget {\r\n    return createFileTreeBreadcrumbsContainer(parent).get(BreadcrumbsFileTreeWidget);\r\n}\r\n\r\n@injectable()\r\nexport class BreadcrumbsFileTreeWidget extends FileTreeWidget {\r\n\r\n    @inject(OpenerService)\r\n    protected readonly openerService: OpenerService;\r\n\r\n    constructor(\r\n        @inject(TreeProps) readonly props: TreeProps,\r\n        @inject(FileTreeModel) readonly model: FileTreeModel,\r\n        @inject(ContextMenuRenderer) contextMenuRenderer: ContextMenuRenderer\r\n    ) {\r\n        super(props, model, contextMenuRenderer);\r\n        this.addClass(BREADCRUMBS_FILETREE_CLASS);\r\n    }\r\n\r\n    protected createNodeAttributes(node: TreeNode, props: NodeProps): React.Attributes & React.HTMLAttributes<HTMLElement> {\r\n        const elementAttrs = super.createNodeAttributes(node, props);\r\n        return {\r\n            ...elementAttrs,\r\n            draggable: false\r\n        };\r\n    }\r\n\r\n    protected handleClickEvent(node: TreeNode | undefined, event: React.MouseEvent<HTMLElement>): void {\r\n        if (FileStatNode.is(node) && !node.fileStat.isDirectory) {\r\n            open(this.openerService, node.uri, {preview: true});\r\n        } else {\r\n            super.handleClickEvent(node, event);\r\n        }\r\n    }\r\n}\r\n"]}